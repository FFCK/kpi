if (top.location != self.document.location){	alert('Vous quittez le site parent !');	top.location = self.document.location;}function uploadLogo(){	document.forms['formCompet'].elements['Cmd'].value = 'UploadLogo';	document.forms['formCompet'].elements['ParamCmd'].value = '';	document.forms['formCompet'].submit();}function dropLogo(){	if(!confirm('Confirmez-vous la suppression ?'))	{		return;	}	else	{		document.forms['formCompet'].elements['Cmd'].value = 'DropLogo';		document.forms['formCompet'].elements['ParamCmd'].value = '';		document.forms['formCompet'].submit();	}}function changeAffiche(){	document.forms['formCompet'].elements['Cmd'].value = '';	document.forms['formCompet'].elements['ParamCmd'].value = '';	document.forms['formCompet'].submit();}function changeAuthSaison(){	document.forms['formCompet'].elements['Cmd'].value = 'ChangeAuthSaison';	document.forms['formCompet'].elements['ParamCmd'].value = '';	document.forms['formCompet'].submit();}function verrou(VerrouCompet, verrouEtat){	if(!confirm('Confirmez-vous le changement ?'))	{		return;	}	else	{		document.forms['formCompet'].elements['Cmd'].value = 'Verrou';		document.forms['formCompet'].elements['verrouCompet'].value = VerrouCompet;		document.forms['formCompet'].elements['Verrou'].value = verrouEtat;		document.forms['formCompet'].submit();	}}function AddSaison(){	if(!confirm('Confirmez-vous l ajout d une saison ?'))	{		return;	}	else	{		document.forms['formCompet'].elements['Cmd'].value = 'AddSaison';		document.forms['formCompet'].elements['ParamCmd'].value = '';		document.forms['formCompet'].submit();	}}function validCompet(){		var codeCompet = document.forms['formCompet'].elements['codeCompet'].value;		if (codeCompet.length == 0)		{			alert("Le code Compétition est Vide ..., Ajout Impossible !");			return false;		}				var labelCompet = document.forms['formCompet'].elements['labelCompet'].value;		if (labelCompet.length == 0)		{			alert("Le libellé de la Compétition est Vide ..., Ajout Impossible !");			return false;		}				return true;}function Add(){	if (!validCompet())		return;	document.forms['formCompet'].elements['Cmd'].value = 'Add';	document.forms['formCompet'].elements['ParamCmd'].value = '';	document.forms['formCompet'].submit();}function sessionSaison(){	if(!confirm('Confirmez-vous le changement de saison de travail ?\n(n\'affecte que votre session)'))	{		document.forms['formCompet'].reset;		return;	} else {		document.forms['formCompet'].elements['Cmd'].value = 'SessionSaison';		document.forms['formCompet'].elements['ParamCmd'].value = document.forms['formCompet'].elements['saisonTravail'].value;		document.forms['formCompet'].submit();	}}function activeSaison(){	if(!confirm('Confirmez-vous le changement de saison active ?\nCE CHANGEMENT AFFECTE TOUT LES UTILISATEURS (ADMIN ET PUBLIC) !'))	{		document.forms['formCompet'].reset;		return;	} else if(!confirm('Il s\'agit bien de changer de saison active !\nCE CHANGEMENT AFFECTE TOUT LES UTILISATEURS (ADMIN ET PUBLIC) !\nConfirmez ?')) {		document.forms['formCompet'].reset;		return;	} else {		document.forms['formCompet'].elements['Cmd'].value = 'ActiveSaison';		document.forms['formCompet'].elements['ParamCmd'].value = document.forms['formCompet'].elements['saisonActive'].value;		document.forms['formCompet'].submit();	}}		function publiCompet(idCompet, pub){	if(!confirm('Confirmez-vous le changement ?'))	{		return false;	}			document.forms['formCompet'].elements['Cmd'].value = 'PubliCompet';	document.forms['formCompet'].elements['ParamCmd'].value = idCompet;	document.forms['formCompet'].elements['Pub'].value = pub;	document.forms['formCompet'].submit();}function updateCompet(){	if (!validCompet())		return;	document.forms['formCompet'].elements['Cmd'].value = 'UpdateCompet';	document.forms['formCompet'].elements['ParamCmd'].value = '';	document.forms['formCompet'].submit();}function razCompet(){	document.forms['formCompet'].elements['Cmd'].value = 'RazCompet';	document.forms['formCompet'].elements['ParamCmd'].value = '';	document.forms['formCompet'].submit();}function paramCompet(idCompet){	document.forms['formCompet'].elements['Cmd'].value = 'ParamCompet';	document.forms['formCompet'].elements['ParamCmd'].value = idCompet;	document.forms['formCompet'].submit();}$(document).ready(function() {	// Maskedinput	//$.mask.definitions['h'] = "[A-O]";	$('.dpt').mask("?***");	$('.date').mask("99/99/9999");	//$("#inputZone").mask("9");		$("#choixCompet").catcomplete({		delay: 500,		minLength: 1,		source: 'ajax/AC_Compet.php',		autoFocus: true,		select: function( event, ui ) {			$("#codeCompet").val(ui.item.code);			$("#labelCompet").val(ui.item.libelle);			$("#niveauCompet").val(ui.item.Code_niveau);			$("#codeRef").val(ui.item.Code_ref);			$("#codeTypeClt").val(ui.item.Code_typeclt);			$("#etape").val(ui.item.Code_tour);			$("#qualifies").val(ui.item.Qualifies);			$("#elimines").val(ui.item.Elimines);			$("#points").val(ui.item.Points);			$("#soustitre").val(ui.item.Soustitre);			$("#web").val(ui.item.Web);			$("#logoLink").val(ui.item.LogoLink);			$("#sponsorLink").val(ui.item.SponsorLink);			$("#toutGroup").val(ui.item.ToutGroup);			$("#touteSaisons").val(ui.item.TouteSaisons);			$("#groupOrder").val(ui.item.GroupOrder);			$("#soustitre2").val(ui.item.Soustitre2);			$("#titre_actif").val(ui.item.Titre_actif);			$("#logo_actif").val(ui.item.Logo_actif);			$("#sponsor_actif").val(ui.item.Sponsor_actif);			$("#kpi_ffck_actif").val(ui.item.Kpi_ffck_actif);			$("#en_actif").val(ui.item.En_actif);			return false;		}	});	$("#logoLink").blur(function(){		lien = $("#logoLink").val();		$("#logoprovisoire").attr('src', lien);	});	$("#sponsorLink").blur(function(){		lien = $("#sponsorLink").val();		$("#sponsorprovisoire").attr('src', lien);	});	$("#toutGroup").bind('click', function() {		alert('Vous allez affecter ces données (Sous-titre, Lien web, logo, sponsor) à toutes les compétitions du groupe ET perdre les données des autres compétitions du groupe !');	});	$("#touteSaisons").bind('click', function() {		alert('Vous allez affecter ces données (Sous-titre, Lien web, logo, sponsor) à toutes les saisons de la compétition ou du groupe ET perdre les données des autres saisons !');	});	//Fusion joueurs	$("#FusionSource").autocomplete({		minLength: 2,		source: 'ajax/AC_Joueur.php'	});	$("#FusionCible").autocomplete({		minLength: 2,		source: 'ajax/AC_Joueur.php'	});	$("#FusionJoueurs").click(function() {		var fusSource = $("#FusionSource").val();		var fusCible = $("#FusionCible").val();		if(!confirm('Confirmez-vous la fusion : '+fusSource+' => '+fusCible+' ?'))		{			return false;		}		$('#Cmd').val('FusionJoueurs');		document.forms['formCompet'].submit();	});	//Renomme Equipe	$("#RenomSource").autocomplete({		minLength: 2,		source: 'ajax/AC_Equipe.php',		select: function( event, ui ) {			$("#numRenomSource").val(ui.item.Numero);			$("#RenomSource").val(ui.item.value);			$("#RenomCible").val(ui.item.value);			return false;		}	});	$("#RenomEquipe").click(function() {		var renSource = $("#RenomSource").val();		var renCible = $("#RenomCible").val();		if(!confirm('Confirmez-vous la modification :\n'+renSource+' => '+renCible+' ?'))		{			return false;		}		document.forms['formCompet'].elements['Cmd'].value = 'RenomEquipe';		document.forms['formCompet'].submit();	});	//TitreJournee labelCompet	$("#TitreJournee").focus(function() {		var TitreJournee = $("#labelCompet").val();		$("#TitreJournee").val(TitreJournee);	});	//Accès Feuille	$("#accesFeuilleBtn").click(function() {		var accesFeuille = $("#accesFeuille").val();		if(!confirm('Confirmez-vous l\'accès à la feuille '+accesFeuille+' ?'))		{			return false;		}		window.open('v2/FeuilleMarque2.php?idMatch='+accesFeuille,'Feuille');	});	$(".publiCompet").click(function(){		//if(confirm('Confirmez-vous le changement de publication ?')){			laCompet = $(this);			laCompet.addClass('glyphicon-fire').removeClass('glyphicon-eye-open').removeClass('glyphicon-eye-close');			laSaison = $('#saisonTravail').val();			laValeur = laCompet.attr('data-valeur');			if(laValeur == 'O'){				changeType = 'glyphicon-eye-close';				exType = 'glyphicon-eye-open';				changeValeur = 'N';				textType = 'Non public';			}else{				changeType = 'glyphicon-eye-open';				exType = 'glyphicon-eye-close';				changeValeur = 'O';				textType = 'Public';			}			$.post(				'v2/StatutCompet.php', // Le fichier cible côté serveur.				{ // variables					Id_Compet : laCompet.attr('data-id'),					Valeur : changeValeur,					TypeUpdate : 'Publication',					idSaison : laSaison				},				function(data){ // callback					if(data == 'OK'){						laCompet.addClass(changeType).removeClass('glyphicon-fire');						laCompet.attr('data-valeur', changeValeur);						laCompet.attr('title', textType);					}					else{						alert('Changement impossible <br />'+data);						laCompet.addClass(exType).removeClass('glyphicon-fire');					}				},				'text' // Format des données reçues.			);		//}	});	$(".verrouCompet").click(function(){		//if(confirm('Confirmez-vous le changement de publication ?')){			laCompet = $(this);			laCompet.attr('src', 'v2/images/indicator.gif');			laSaison = $('#saisonTravail').val();			if(laCompet.attr('data-valeur') == 'O'){				changeType = 'N';				textType = 'Feuilles de présence modifiables';			}else{				changeType = 'O';				textType = 'Feuilles de présence verrouillées';			}			$.post(				'v2/StatutCompet.php', // Le fichier cible côté serveur.				{ // variables					Id_Compet : laCompet.attr('data-id'),					Valeur : changeType,					TypeUpdate : 'Verrou',					idSaison : laSaison				},				function(data){ // callback					if(data == 'OK'){						laCompet.attr('src', '../img/verrou2' + changeType + '.gif');						laCompet.attr('data-valeur', changeType);						laCompet.attr('title', textType);					}					else{						alert('Changement impossible <br />'+data);						laCompet.attr('src', '../img/verrou2' + laCompet.attr('data-valeur') + '.gif');						laCompet.attr('data-valeur', laCompet.attr('data-valeur'));					}				},				'text' // Format des données reçues.			);		//}	});	$(".statutCompet").click(function(){		//if(confirm('Confirmez-vous le changement de statut ?')){			laCompet = $(this);			statut = laCompet.text();			laCompet.html('<img src="v2/images/indicator.gif" />');			laSaison = $('#saisonTravail').val();			if(statut == '0' || statut == 'ATT'){				changeType = 'ON';			}else if(statut == 'ON'){				changeType = 'END';			}else{				changeType = 'ATT';			}			$.post(				'v2/StatutCompet.php', // Le fichier cible côté serveur.				{ // variables					Id_Compet : laCompet.attr('data-id'),					Valeur : changeType,					TypeUpdate : 'Statut',					idSaison : laSaison				},				function(data){ // callback					if(data == 'OK'){						laCompet.html(changeType);						laCompet.removeClass('statutCompetATT statutCompetON statutCompetEND').addClass('statutCompet' + changeType);					}					else{						laCompet.html(statut);						alert('Changement impossible <br />'+data);					}				},				'text' // Format des données reçues.			);					//}	});		//$('#tableCompet').fixedHeaderTable('hide');	//$("#tableCompet1").stickyTableHeaders();	$("#tableCompet1").dataTable( {        "scrollY":        350,        "scrollCollapse": true,        "jQueryUI":       true,		"paging":   false,        "ordering": false,        "info":     false,		"dom": 'tlf'    } );});